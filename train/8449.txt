Motivation: Identification of metabolites is essential for its use as biomarkers, for research in systems biology and for drug discovery. The first step before a structure can be elucidated is to determine its elemental composition. High-resolution mass spectrometry, which provides the exact mass, together with common constraint rules, for rejecting false proposed elemental compositions, cannot always provide one unique elemental composition solution. Results: The Multistage Elemental Formula (MEF) tool is presented in this article to enable the correct assignment of elemental composition to compounds, their fragment ions and neutral losses that originate from the molecular ion by using multistage mass spectrometry (MS n). The method provided by MEF reduces the list of predicted elemental compositions for each ion by analyzing the elemental compositions of its parent (precursor ion) and descendants (fragments). MS n data of several metabolites were processed using the MEF tool to assign the correct elemental composition and validate the efficacy of the method. Especially, the link between the mass accuracy needed to generate one unique elemental composition and the topology of the MS n tree (the width and the depth of the tree) was addressed. This method makes an important step toward semi-automatic de novo identification of metabolites using MS n data. Availability: Software available at: http://abs.